!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.element=t()}(this,function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function i(e,n,s){return t(this,i),i.isArray(n)&&(s=n),this.attributes=i.isObject(n)?n:{},this.type=e.split(".")[0].split("#")[0],this.events=[],this.element=this._createElement(),this._setAttributes(),this._parseType(e),this.children=i.isArray(s)?this._setChildren(s):null,this}return n(i,[{key:"_getChildren",value:function(e,t){e=e||[],t=t||[];for(var n=this.children,i=0;i<n.length;i++){var s=n[i];e&&e.length?e.indexOf(s.type)>-1&&t.push(s):t.push(s),s.children&&this._getChildren.call(s,e,t)}return t}},{key:"_parseType",value:function(e){if(!i.isString(e))throw new Error("El TypeError: The first parameter must be a string!");for(var t=e.match(/([a-z]+|#[\w-\d]+|\.[\w\d-]+)/g),n=t.shift(),s=0;s<t.length;s++)t[s].indexOf("#")>-1&&this.setAttribute("id",t[s].slice(1)),t[s].indexOf(".")>-1&&this.addClass(t[s].slice(1));return n}},{key:"_createElement",value:function(){return document.createElement(this.type)}},{key:"_setAttributes",value:function(){var e=this.attributes;for(var t in e)e.hasOwnProperty(t)&&i._setAttribute(this,t,e)}},{key:"_setChildren",value:function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];this.append(i),t[i.type]||(t[i.type]=[]),t[i.type].push(i.type),i._key=i.attributes._key||i.getAttribute("id")||""+i.type+(t[i.type].length-1),this[i._key]=i}return e}},{key:"addClass",value:function(e){if(!e)return this;if(i.isArray(e)&&(e=e.join(" ")),e.indexOf(" ")>-1){e=e.split(" ");for(var t=0;t<e.length;t++)-1===(" "+this.element.className+" ").indexOf(" "+e[t]+" ")&&(this.element.classList?this.element.classList.add(e[t]):this.element.className+=" "+e[t])}else-1===(" "+this.element.className+" ").indexOf(" "+e+" ")&&(this.element.classList?this.element.classList.add(e):this.element.className+=" "+e);return this}},{key:"append",value:function(e){return e?(i.isObject(e)&&this.element.appendChild(e.element||e),i.isString(e)&&this.element.appendChild(document.createTextNode(e)),this):this}},{key:"blur",value:function(){return this.element.blur(),this}},{key:"click",value:function(){return this.element.click(),this}},{key:"disable",value:function(e){return e=!i.isBoolean(e)||e,e&&this.setAttribute("disabled","disabled").addClass("disabled"),this}},{key:"empty",value:function(){return this.element.innerHTML="",this}},{key:"enable",value:function(e){return e=!i.isBoolean(e)||e,e&&this.removeAttribute("disabled").removeClass("disabled"),this}},{key:"encode",value:function(){return i.toQueryString(this.serialize("object"))}},{key:"fadeIn",value:function(e){return e=e||.3,this.element.style.opacity=1,this.element.style.transition="opacity "+e+"s ease-in-out",this}},{key:"fadeOut",value:function(e){return e=e||.3,this.element.style.opacity=0,this.element.style.transition="opacity "+e+"s ease-in-out",this}},{key:"focus",value:function(){return this.element.focus(),this}},{key:"getAttribute",value:function(e){return e?this.element.getAttribute(e):null}},{key:"getChildren",value:function(e){return e=e||[],e=i.isArray(e)?e:e.split(),this._getChildren(e)}},{key:"getHTML",value:function(){return this.element.innerHTML}},{key:"getText",value:function(){return this.element.textContent}},{key:"getValue",value:function(){return this.element.value}},{key:"hasAttribute",value:function(e){return!!this.element.hasAttribute(e)}},{key:"hasClass",value:function(e){return this.element.classList?this.element.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(this.element.className)}},{key:"hasValue",value:function(){var e=this.getValue();return""!==e&&e.length>0}},{key:"hide",value:function(){return this.element.style.display="none",this}},{key:"hideFor",value:function(e){var t=this;return e=e||3e3,this.hide(),setTimeout(function(){return t.show()},e),this}},{key:"next",value:function(){return this.element.nextElementSibling||null}},{key:"off",value:function(e,t,n){var i=this.events;if(!t){for(var s=i.length-1;s>=0;s--)i[s].event===e&&(this.element.removeEventListener(i[s].event,i[s].handler,i[s].useCapture),i.splice(s,1));return this}n=n||!1;var r=i.map(function(e){return e.event}).indexOf(e);return this.element.removeEventListener(e,t,n),i.splice(r,1),this}},{key:"on",value:function(e,t,n){var s=this;n=n||!1;for(var r=null,l=i.isArray(e)?e:e.split(/\s+/),u=0;u<l.length;u++){var a=l[u];if(a.indexOf(".")>-1){var o=a.split(".");r=o.slice(1).join(".")}var h=function(e){e.namespace=r,t.call(s,e)};this.element.addEventListener(a,h,n),this.events.push({event:a,handler:h,namespace:r,useCapture:n,once:!1})}return this}},{key:"one",value:function(e,t,n){var s=this;n=n||!1;for(var r=null,l=i.isArray(e)?e:e.split(/\s+/),u=0;u<l.length;u++)!function(e){var i=l[e];if(i.indexOf(".")>-1){var u=i.split(".");r=u.slice(1).join(".")}var a=function e(l){l.namespace=r,t.call(s,l),s.off(i,e,n)};s.element.addEventListener(i,a,n),s.events.push({event:i,handler:a,namespace:r,useCapture:n,once:!0})}(u);return this}},{key:"parent",value:function(){return this.element.parentElement||this.element.parentNode||null}},{key:"prepend",value:function(e){return e?(i.isObject(e)&&this.element.insertBefore(e.element||e,this.element.firstChild),i.isString(e)&&this.element.insertBefore(document.createTextNode(e),this.element.firstChild),this):this}},{key:"remove",value:function(){this.parent().removeChild(this.element)}},{key:"removeAttribute",value:function(e){return e?(this.element.removeAttribute(e),this):this}},{key:"removeClass",value:function(e){if(!e)return this;if(i.isArray(e)&&(e=e.join(" ")),e.indexOf(" ")>-1){e=e.split(" ");for(var t=0;t<e.length;t++)this.element.classList?this.element.classList.remove(e[t]):this.element.className=this.element.className.replace(e[t],"").replace(/^\s+|\s+$/g,"")}else this.element.classList?this.element.classList.remove(e):this.element.className=this.element.className.replace(e,"").replace(/^\s+|\s+$/g,"");return this}},{key:"serialize",value:function(e){e=e||"object";var t=this.getAttribute("name")||this.getAttribute("id")||this.getAttribute("class").split(" ").join("."),n=this.getValue()||this.getText()||this.getHTML(),s={};switch(s[t]=n,e.toLowerCase()){case"string":return i.toQueryString(s);case"array":var r=[];return r.push(s),r;case"object":default:return s}}},{key:"setAttribute",value:function(e,t){return void 0===t||null===t?this:(this.element.setAttribute(e,t),this)}},{key:"setHTML",value:function(e){return void 0!==e&&null!==e&&i.isString(e)?(this.element.innerHTML=e,this):this}},{key:"setStyles",value:function(e){if(!e)return this;for(var t in e)e.hasOwnProperty(t)&&(this.element.style[t]=e[t]);return this}},{key:"setText",value:function(e){if(void 0===e||null===e||!i.isString(e))return this;var t=document.createTextNode(e);return this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t),this}},{key:"setValue",value:function(e){return void 0===e?this:(this.element.value=e,this)}},{key:"show",value:function(){return this.element.style.display="",this}},{key:"showFor",value:function(e){var t=this;return e=e||3e3,this.show(),setTimeout(function(){return t.hide()},e),this}},{key:"toggleCheck",value:function(e){return this.element.checked=i.isBoolean(e)?e:!this.element.checked,this}},{key:"trigger",value:function(e,t){i.isObject(t)||(t={}),t.bubbles=t.bubbles||!1,t.cancelable=t.cancelable||!1;var n=new CustomEvent(e,t);n.data={},delete t.bubbles,delete t.cancelable;for(var s in t)t.hasOwnProperty(s)&&(n.data[s]=t[s]);return this.element.dispatchEvent(n),this}},{key:"unbindEvents",value:function(){var e=this.events,t=e.length,n=t-1;if(t)for(;n>=0;n--)this.off(e[n].event,e[n].handler,e[n].useCapture);return this}},{key:"unbindNamespace",value:function(e){var t=this.events,n=t.length,i=n-1;if(n)for(;i>=0;i--)t[i].namespace.indexOf(e)>-1&&this.off(t[i].event,t[i].handler,t[i].useCapture);return this}}],[{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isObject",value:function(t){return"object"===(void 0===t?"undefined":e(t))&&!Array.isArray(t)&&null!==t}},{key:"isString",value:function(e){return"string"==typeof e||e instanceof String}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"toQueryString",value:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}},{key:"_setAttribute",value:function(e,t,n){void 0!==n[t]&&null!==n[t]&&("$"===t.charAt(0)?e[t]=n[t]:e.element.setAttribute(t,i.isArray(n[t])?n[t].join(" "):n[t]))}}]),i}();return window.El=i,i});
