!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.element=t()}(this,function(){"use strict";var e=[{name:"class",fn:function(e){if(!s.isString(e)||!s.isArray(e))throw new Error('The "class" extender value must be a string or an array!');return this.addClass(e)}},{name:"data",fn:function(e){if(!s.isObject(e))throw new Error('The "data" extender value must be an object!');for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];s.isTruthy(n)&&this.setAttribute("data-"+t,n)}}},{name:"style",fn:function(e){if(!s.isObject(e))throw new Error('The "style" extender value must be an object!');return this.setStyles(e)}}],t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function s(t,i,r){return n(this,s),s.isArray(i)&&(r=i),this.attributes=s.isObject(i)?i:{},this.type=t.split(".")[0].split("#")[0].split("$")[0],this.events=[],this.extenders=e.concat(this._extenders||[]),this.element=this._createElement(),this._setAttributes(),this._parseType(t),this.children=s.isArray(r)?this._setChildren(r):null,this}return i(s,[{key:"_getChildren",value:function(e,t){e=e||[],t=t||[];for(var n=this.children,i=0;i<n.length;i++){var s=n[i];e&&e.length?e.indexOf(s.type)>-1&&t.push(s):t.push(s),s.children&&this._getChildren.call(s,e,t)}return t}},{key:"_parseType",value:function(e){if(!s.isString(e))throw new Error("El TypeError: The first parameter must be a string!");for(var t=e.match(/([a-zA-Z0-9]+|#[\w-\d]+|\.[\w\d-]+|\$[\w\d-]+)/g),n=t.shift(),i=0;i<t.length;i++)t[i].indexOf("#")>-1&&this.setAttribute("id",t[i].slice(1)),t[i].indexOf(".")>-1&&this.addClass(t[i].slice(1)),t[i].indexOf("$")>-1&&this.setKey(t[i].slice(1));return n}},{key:"_createElement",value:function(){return document.createElement(this.type)}},{key:"_setAttributes",value:function(){var e=this.attributes;for(var t in e)if(e.hasOwnProperty(t)){var n=this.extenders.map(function(e){return e.name});n.indexOf(t)>-1?this.extenders[n.indexOf(t)].fn.call(this,e[t]):this._setAttribute(t,e)}}},{key:"_setAttribute",value:function(e,t){s.isTruthy(t[e])&&("_key"===e?this._key=t[e]:this.element.setAttribute(e,s.isArray(t[e])?t[e].join(" "):t[e]))}},{key:"_setChildren",value:function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];t[i.type]||(t[i.type]=[]),t[i.type].push(i.type),i._key=i._key||i.attributes._key||i.getAttribute("id")||""+i.type+(t[i.type].length-1),this.append(i)}return e}},{key:"addClass",value:function(e){if(!e)return this;if(s.isArray(e)&&(e=e.join(" ")),e.indexOf(" ")>-1){e=e.split(" ");for(var t=0;t<e.length;t++)-1===(" "+this.element.className+" ").indexOf(" "+e[t]+" ")&&(this.element.classList?this.element.classList.add(e[t]):this.element.className+=" "+e[t])}else-1===(" "+this.element.className+" ").indexOf(" "+e+" ")&&(this.element.classList?this.element.classList.add(e):this.element.className+=" "+e);return this}},{key:"append",value:function(e){return e?(s.isObject(e)&&this.element.appendChild(e.element||e),s.isString(e)&&this.element.appendChild(document.createTextNode(e)),this[e._key]=e,this):this}},{key:"blur",value:function(){return this.element.blur(),this}},{key:"click",value:function(){return this.element.click(),this}},{key:"disable",value:function(e){return e=!s.isBoolean(e)||e,e&&this.setAttribute("disabled","disabled").addClass("disabled"),this}},{key:"empty",value:function(){return this.element.innerHTML="",this}},{key:"enable",value:function(e){return e=!s.isBoolean(e)||e,e&&this.removeAttribute("disabled").removeClass("disabled"),this}},{key:"encode",value:function(){return s.toQueryString(this.serialize("object"))}},{key:"fadeIn",value:function(e){return e=e||.3,this.element.style.opacity=1,this.element.style.transition="opacity "+e+"s ease-in-out",this}},{key:"fadeOut",value:function(e){return e=e||.3,this.element.style.opacity=0,this.element.style.transition="opacity "+e+"s ease-in-out",this}},{key:"focus",value:function(){return this.element.focus(),this}},{key:"getAttribute",value:function(e){return e?this.element.getAttribute(e):null}},{key:"getChildren",value:function(e){return e=e||[],e=s.isArray(e)?e:e.split(),this._getChildren(e)}},{key:"getHTML",value:function(){return this.element.innerHTML}},{key:"getText",value:function(){return this.element.textContent}},{key:"getValue",value:function(){return this.element.value}},{key:"hasAttribute",value:function(e){return!!this.element.hasAttribute(e)}},{key:"hasClass",value:function(e){return this.element.classList?this.element.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(this.element.className)}},{key:"hasValue",value:function(){var e=this.getValue();return""!==e&&e.length>0}},{key:"hide",value:function(){return this.element.style.display="none",this}},{key:"hideFor",value:function(e){var t=this;return e=e||3e3,this.hide(),setTimeout(function(){return t.show()},e),this}},{key:"next",value:function(){return this.element.nextElementSibling||null}},{key:"off",value:function(e,t,n){var i=this.events;if(!t){for(var s=i.length-1;s>=0;s--)i[s].event===e&&(this.element.removeEventListener(i[s].event,i[s].handler,i[s].useCapture),i.splice(s,1));return this}n=n||!1;var r=i.map(function(e){return e.event}).indexOf(e);return this.element.removeEventListener(e,t,n),i.splice(r,1),this}},{key:"on",value:function(e,t,n){var i=this;n=n||!1;for(var r=null,l=s.isArray(e)?e:e.split(/\s+/),a=0;a<l.length;a++){var u=l[a];if(u.indexOf(".")>-1){var o=u.split(".");r=o.slice(1).join(".")}var h=function(e){e.namespace=r,t.call(i,e)};this.element.addEventListener(u,h,n),this.events.push({event:u,handler:h,namespace:r,useCapture:n,once:!1})}return this}},{key:"one",value:function(e,t,n){var i=this;n=n||!1;for(var r=null,l=s.isArray(e)?e:e.split(/\s+/),a=0;a<l.length;a++)!function(e){var s=l[e];if(s.indexOf(".")>-1){var a=s.split(".");r=a.slice(1).join(".")}var u=function e(l){l.namespace=r,t.call(i,l),i.off(s,e,n)};i.element.addEventListener(s,u,n),i.events.push({event:s,handler:u,namespace:r,useCapture:n,once:!0})}(a);return this}},{key:"parent",value:function(){return this.element.parentElement||this.element.parentNode||null}},{key:"prepend",value:function(e){return e?(s.isObject(e)&&this.element.insertBefore(e.element||e,this.element.firstChild),s.isString(e)&&this.element.insertBefore(document.createTextNode(e),this.element.firstChild),this):this}},{key:"remove",value:function(){this.parent().removeChild(this.element)}},{key:"removeAttribute",value:function(e){return e?(this.element.removeAttribute(e),this):this}},{key:"removeClass",value:function(e){if(!e)return this;if(s.isArray(e)&&(e=e.join(" ")),e.indexOf(" ")>-1){e=e.split(" ");for(var t=0;t<e.length;t++)this.element.classList?this.element.classList.remove(e[t]):this.element.className=this.element.className.replace(e[t],"").replace(/^\s+|\s+$/g,"")}else this.element.classList?this.element.classList.remove(e):this.element.className=this.element.className.replace(e,"").replace(/^\s+|\s+$/g,"");return this}},{key:"serialize",value:function(e){e=e||"object";var t=this.getAttribute("name")||this.getAttribute("id")||this.getAttribute("class").split(" ").join("."),n=this.getValue()||this.getText()||this.getHTML(),i={};switch(i[t]=n,e.toLowerCase()){case"string":return s.toQueryString(i);case"array":var r=[];return r.push(i),r;case"object":default:return i}}},{key:"setAttribute",value:function(e,t){return void 0===t||null===t?this:(this.element.setAttribute(e,t),this)}},{key:"setHTML",value:function(e){return void 0!==e&&null!==e&&s.isString(e)?(this.element.innerHTML=e,this):this}},{key:"setKey",value:function(e){return this._key=e,this}},{key:"setStyles",value:function(e){if(!e)return this;for(var t in e)e.hasOwnProperty(t)&&(this.element.style[t]=e[t]);return this}},{key:"setText",value:function(e){if(void 0===e||null===e||!s.isString(e))return this;var t=document.createTextNode(e);return this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t),this}},{key:"setValue",value:function(e){return void 0===e?this:(this.element.value=e,this)}},{key:"show",value:function(){return this.element.style.display="",this}},{key:"showFor",value:function(e){var t=this;return e=e||3e3,this.show(),setTimeout(function(){return t.hide()},e),this}},{key:"toggleCheck",value:function(e){return this.element.checked=s.isBoolean(e)?e:!this.element.checked,this}},{key:"trigger",value:function(e,t){s.isObject(t)||(t={}),t.bubbles=t.bubbles||!1,t.cancelable=t.cancelable||!1;var n=new CustomEvent(e,t);n.data={},delete t.bubbles,delete t.cancelable;for(var i in t)t.hasOwnProperty(i)&&(n.data[i]=t[i]);return this.element.dispatchEvent(n),this}},{key:"unbindEvents",value:function(){var e=this.events,t=e.length,n=t-1;if(t)for(;n>=0;n--)this.off(e[n].event,e[n].handler,e[n].useCapture);return this}},{key:"unbindNamespace",value:function(e){var t=this.events,n=t.length,i=n-1;if(n)for(;i>=0;i--)t[i].namespace.indexOf(e)>-1&&this.off(t[i].event,t[i].handler,t[i].useCapture);return this}}],[{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isObject",value:function(e){return"object"===(void 0===e?"undefined":t(e))&&!Array.isArray(e)&&null!==e}},{key:"isString",value:function(e){return"string"==typeof e||e instanceof String}},{key:"isNumber",value:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isTruthy",value:function(e){return void 0!==e&&null!==e&&e!==1/0}},{key:"toQueryString",value:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}]),s}();return window.El=s,s});
